(this["webpackJsonpreact-templates"]=this["webpackJsonpreact-templates"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports={Header:"Header_Header___oS3j",profile:"Header_profile__2Lr1g",logo:"Header_logo__2TBMg",Avatar:"Header_Avatar__2SFD9",Hide:"Header_Hide__oEEH-",nav:"Header_nav__3txRM",Toggle:"Header_Toggle__fyG5W"}},,,function(e,t,n){e.exports={BarWrapper:"Loading_BarWrapper__3gCt_",loader:"Loading_loader__3PKpm",bar:"Loading_bar__itip4"}},function(e,t,n){e.exports={BarWrapper:"LoadingBar_BarWrapper__3_9fj",loader:"LoadingBar_loader__3_5OF",bar:"LoadingBar_bar__3K0NR"}},,,function(e,t,n){e.exports={NewsItem:"NewsItem_NewsItem__20qci",ImgWrapper:"NewsItem_ImgWrapper__3bTMl",contentWrapper:"NewsItem_contentWrapper__3tu16",source:"NewsItem_source__3jVjk"}},function(e,t,n){e.exports={MovieInfoWrapper:"MovieInfoWrapper_MovieInfoWrapper__2YqDl",MovieInfo:"MovieInfoWrapper_MovieInfo__3-ZXj",Image:"MovieInfoWrapper_Image__3DVad"}},,function(e,t,n){e.exports={App:"App_App__3rdvG",ContentWrapper:"App_ContentWrapper__1ksTt",NotifyItem:"App_NotifyItem__2oZdd"}},function(e,t,n){e.exports={TorrentTypeInput:"TorrentTypeInput_TorrentTypeInput__3JPJg",row:"TorrentTypeInput_row__3GE23"}},function(e,t,n){e.exports={row:"TorrentFile_row__379G8",Label:"TorrentFile_Label__1ASKp"}},function(e,t,n){e.exports={row:"CommonInputFile_row__leynf",Label:"CommonInputFile_Label__Optka"}},function(e,t,n){e.exports={Wrapper:"DescriptionField_Wrapper__2xZfc",Label:"DescriptionField_Label__1Q9rc",DescriptionField:"DescriptionField_DescriptionField__3VtNk"}},function(e,t,n){e.exports={ScreenshotsSection:"ScreenshotsSection_ScreenshotsSection__16Yrc",Image:"ScreenshotsSection_Image__2M7Yb",Cont:"ScreenshotsSection_Cont__2YlRi"}},function(e,t,n){e.exports={Item:"TorrentsListItem_Item__2G2Rz",Img:"TorrentsListItem_Img__3fawN",serial:"TorrentsListItem_serial__2d1V3",movies:"TorrentsListItem_movies__1YsYV",game:"TorrentsListItem_game__d1_iz",book:"TorrentsListItem_book__1nysd",music:"TorrentsListItem_music__3LNXs"}},function(e,t,n){e.exports={Torrent:"Torrent_Torrent__2M4al",DownloadBtn:"Torrent_DownloadBtn__1CPEG",Delete:"Torrent_Delete__UM5XP"}},,function(e,t,n){e.exports={NewsSection:"NewsSection_NewsSection__3crpZ",Links:"NewsSection_Links__1L_4n"}},function(e,t,n){e.exports={UploadTorrent:"UploadTorrent_UploadTorrent__2xLj4"}},function(e,t,n){e.exports={row:"TorrentName_row__1eVQ_",torrentName:"TorrentName_torrentName__hrC_o"}},function(e,t,n){e.exports={row:"TorrentImdbLink_row__3ewRW",imdbLink:"TorrentImdbLink_imdbLink__3ETfh"}},function(e,t,n){e.exports={CommonInput:"CommonInput_CommonInput__28W3f",Editable:"CommonInput_Editable__C_40-"}},function(e,t,n){e.exports={Img:"UserInfo_Img__1aIqK",UserData:"UserInfo_UserData__3jMdj"}},,,function(e,t,n){e.exports={Paginate:"Paginator_Paginate__3OFTb",Active:"Paginator_Active__2o_EM"}},function(e,t,n){e.exports={Wrapper:"Logout_Wrapper__1B7WZ",Container:"Logout_Container__2RIiu"}},function(e,t,n){e.exports={Footer:"Footer_Footer__6rp8I",FooterNav:"Footer_FooterNav__3eOew"}},function(e,t,n){e.exports={Error:"ErrorHandler_Error__HpyAM",Emo:"ErrorHandler_Emo__3lzQr"}},,,,,function(e,t,n){e.exports={Widget:"Weather_Widget__YA_FU"}},function(e,t,n){e.exports={ErrorMessage:"ErrorMessage_ErrorMessage__s_XpK"}},function(e,t,n){e.exports={TorrentInfoField:"TorrentInfoField_TorrentInfoField__14AJs"}},function(e,t,n){e.exports={Submit:"SubmitBtn_Submit__1z86C"}},function(e,t,n){e.exports={Title:"CommonTitle_Title__2Q29a"}},function(e,t,n){e.exports={RegisterForm:"Register_RegisterForm__1NiJR"}},function(e,t,n){e.exports={LoginForm:"Login_LoginForm__3k2Xf"}},function(e,t,n){e.exports={Wrapper:"Profile_Wrapper__1EAiG"}},function(e,t,n){e.exports={TorrentList:"TorrentsList_TorrentList__39jiI"}},,,function(e,t,n){e.exports={Wrapper:"CommonSearch_Wrapper__3E4fK"}},function(e,t,n){e.exports={Wrapper:"Torrents_Wrapper__2Noak"}},function(e,t,n){e.exports={SocialMedia:"SocialMedia_SocialMedia__xurQJ"}},function(e,t,n){e.exports={NotFound:"NotFound_NotFound__3evrL",spooky:"NotFound_spooky__1mB5y"}},,,,,,,,,function(e,t,n){},,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(43),o=n.n(c),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},i=n(5),l=(n(68),n(3)),u=n(44),j=n.n(u),d=a.a.createContext({errorMsg:"",setToastrMsg:function(){}}),b=a.a.createContext({user:null,logIn:function(){},logOut:function(){},updateUserInfo:function(){}}),p=n(12),O=n(2),f=n(13),m=n.n(f),h=n(0),_=function(e){var t=e.fetchTimeout,n=Object(r.useState)(!1),a=Object(O.a)(n,2),c=a[0],o=a[1],s={count:0};!function(){if("fetch"in window){var e=window.fetch;window.fetch=function(){var t,n=arguments,r=arguments[0],a=arguments[1];return r&&"object"===typeof r?a&&"method"in a?t=a.method:r&&"method"in r&&(t=r.method):a&&"method"in a&&(t=a.method),void 0===t&&(t="GET"),new Promise((function(t,r){l(),e.apply(void 0,Object(p.a)(n)).then((function(e){i(e),t(e)})).catch((function(e){i(e),r(e)}))}))}}}();var i=function(e){s.count--,setTimeout((function(){s.count<=0&&(s.count=0,o(!1))}),t||500)},l=function(e){s.count++,o(!0)};return Object(h.jsx)(h.Fragment,{children:c&&Object(h.jsx)("div",{className:m.a.BarWrapper,children:Object(h.jsxs)("div",{className:m.a.loader,children:[Object(h.jsx)("div",{className:m.a.bar}),Object(h.jsx)("div",{className:m.a.bar}),Object(h.jsx)("div",{className:m.a.bar})]})})})},g=n(20),x=n.n(g),v=n(10),N=n.n(v),y=n(6),C=n(45),T=n.n(C);var S=function(){var e=Object(r.useState)(0),t=Object(O.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){fetch("https://api.hostip.info/get_html.php").then((function(e){return e.text()})).then((function(e){var t=e.split("City: ")[1].split("IP: ")[0].trim();a(t)})).catch(console.log)})),Object(h.jsx)("iframe",{className:T.a.Widget,title:"Weather Widget",width:"140",height:"350",scrolling:"no",frameBorder:"0",allowtransparency:"true",loading:"lazy",onError:function(e){return console.log("nnoo",e)},src:"https://sinoptik.bg/widget/100727011/3/140/350/10?url=https://m.netinfo.bg/sinoptik/js/show_widget.js",children:n})},I={cloudinaryApiUrl:"https://api.cloudinary.com/v1_1",cloudinaryCloudName:"allmighty",omdbApiUrl:"https://www.omdbapi.com",omdbApiKey:"4e53b10e&i",newsApiUrl:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"allmighty",REACT_APP_CLOUDINARY_URL:"https://api.cloudinary.com/v1_1",REACT_APP_OMDB_API_KEY:"4e53b10e&i",REACT_APP_OMDB_URL:"https://www.omdbapi.com",REACT_APP_SERVER_URL:"https://poshta.cf"}).REACT_APP_NEWS_URL,newsApiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"allmighty",REACT_APP_CLOUDINARY_URL:"https://api.cloudinary.com/v1_1",REACT_APP_OMDB_API_KEY:"4e53b10e&i",REACT_APP_OMDB_URL:"https://www.omdbapi.com",REACT_APP_SERVER_URL:"https://poshta.cf"}).REACT_APP_NEWS_API_KEY,serverUrl:"https://poshta.cf"},w=I.cloudinaryApiUrl,E=I.cloudinaryCloudName,L=I.omdbApiUrl,A=I.omdbApiKey,P=I.serverUrl,D={news:function(){return fetch("".concat(P,"/api/news")).then((function(e){return e.json()}))}},F=n(29),U=n.n(F),R=n(17),k=n.n(R),W=function(e){var t=e.title,n=e.source,r=(e.url,e.urlToImage),a=e.description;return Object(h.jsxs)("article",{className:k.a.NewsItem,children:[Object(h.jsx)("div",{className:k.a.ImgWrapper,children:Object(h.jsx)("img",{src:r,alt:t})}),Object(h.jsxs)("div",{className:k.a.contentWrapper,children:[Object(h.jsx)("h3",{children:t}),Object(h.jsx)("p",{children:a}),Object(h.jsx)("p",{className:k.a.source,children:n.name})]})]})},M=function(){var e=Object(r.useState)([]),t=Object(O.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){D.news().then((function(e){return a(e.articles)}))}),[a]),Object(h.jsx)("section",{className:U.a.NewsSection,children:n&&n.slice(0,6).map((function(e){return Object(h.jsx)("a",{className:U.a.Links,href:e.url,children:Object(h.jsx)(W,Object(y.a)({},e))},e.url)}))})},B=function(){return Object(h.jsxs)(r.Fragment,{children:[Object(h.jsx)(M,{}),Object(h.jsx)(S,{})]})},H={getOne:function(e){return fetch("".concat(L,"/?apikey=").concat(A,"=").concat(e)).then((function(e){return e.json()}))}};var K=function(e){return{year:e.Year,released:e.Released,runtime:e.Runtime,genre:e.Genre,director:e.Director,actors:e.Actors,language:e.Language,country:e.Country,imdbRating:e.imdbRating,imdbID:e.imdbID,plot:e.Plot,poster:e.Poster}};function Y(e){var t=Object.keys(e).filter((function(t){return""===e[t]})).map((function(e){return"Field ".concat(e.toUpperCase()," is required!\n")}));return[t.length>0,t]}var G=n(30),V=n.n(G),J=n(21),Q=n.n(J),q=function(){return Object(h.jsxs)("div",{className:Q.a.row,children:[Object(h.jsx)("label",{className:Q.a.label,htmlFor:"category",children:"Choose category"}),Object(h.jsxs)("select",{className:Q.a.TorrentTypeInput,id:"category",name:"category",children:[Object(h.jsx)("option",{value:""}),Object(h.jsx)("option",{value:"movies",children:"Movies"}),Object(h.jsx)("option",{value:"music",children:"Music"}),Object(h.jsx)("option",{value:"serial",children:"Serials"}),Object(h.jsx)("option",{value:"game",children:"Games"}),Object(h.jsx)("option",{value:"book",children:"Books"})]})]})},z=n(31),X=n.n(z),Z=function(){return Object(h.jsxs)("div",{className:X.a.row,children:[Object(h.jsx)("label",{htmlFor:"torrentName",children:"Torrent Name"}),Object(h.jsx)("input",{className:X.a.torrentName,type:"text",name:"torrentName",id:"name"})]})},$=n(32),ee=n.n($),te=n(46),ne=n.n(te),re=function(e){var t=e.error;return Object(h.jsx)("span",{className:ne.a.ErrorMessage,children:t})},ae=function(e){var t=e.setMovieId,n=Object(r.useState)(!0),a=Object(O.a)(n,2),c=a[0],o=a[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:ee.a.row,children:[Object(h.jsx)("label",{htmlFor:"imdbLink",children:"Add IMDB movie link"}),Object(h.jsx)("input",{className:ee.a.imdbLink,type:"url",name:"imdbLink",id:"imdbLink",onBlur:function(e){var n=/tt\d{7,8}/.test(e.target.value);if(o(n),n){var r=e.target.value.match(/tt\d{7,8}/gi)[0];t(r)}}})]}),c||Object(h.jsx)(re,{error:"Wrong IMDB link, it must include tt followed by 7 digits"})]})},ce=n(18),oe=n.n(ce),se=function(e){var t=e.src,n=e.style,r=e.alt,a=e.fallback;return Object(h.jsx)("img",{className:n,src:t,onError:a,alt:r})},ie=n(47),le=n.n(ie),ue=function(e){var t=e.fieldDesc,n=e.fieldData;return Object(h.jsxs)("tr",{className:le.a.TorrentInfoField,children:[Object(h.jsx)("td",{children:Object(h.jsxs)("h4",{children:[t,": "]})}),Object(h.jsx)("td",{children:Object(h.jsx)("em",{children:n})})]})};var je=function(e){if(e)return{Year:e.year,Released:e.released,Runtime:e.runtime,Genre:e.genre,Director:e.director,Actors:e.actors,Language:e.language,Country:e.country,"Imdb Rating":e.imdbRating}},de=function(e){var t=e.movieData,n=e.style;return t=je(t),Object(h.jsx)("table",{className:n,children:Object(h.jsx)("tbody",{children:t&&Object.keys(t).map((function(e){return t[e]&&"N/A"!==t[e]&&Object(h.jsx)(ue,{fieldDesc:e,fieldData:t[e]},e)}))})})},be=function(e){var t=e.movieData;return Object(h.jsxs)("section",{className:oe.a.MovieInfoWrapper,children:[Object(h.jsx)(se,{style:oe.a.Img,src:null===t||void 0===t?void 0:t.poster,alt:"Movie Poster"}),Object(h.jsx)(de,{className:oe.a.MovieInfo,style:oe.a.MovieInfo,movieData:t})]})},pe={cloudinaryUpload:function(e){var t=new FormData;return t.append("file",e,e.name),t.append("upload_preset","ml_default"),fetch("".concat(w,"/").concat(E,"/auto/upload"),{method:"POST",body:t}).then((function(e){return e.json()}))}},Oe=n(22),fe=n.n(Oe),me=function(e){var t=e.setFile,n=e.setUploadBtn,a=Object(r.useState)(!0),c=Object(O.a)(a,2),o=c[0],s=c[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:fe.a.row,children:[Object(h.jsx)("label",{htmlFor:"torrentFile",children:"Attach Torrent"}),Object(h.jsx)("div",{className:fe.a.Label,children:Object(h.jsx)("input",{onChange:function(e){return function(e){e.target.files[0].size>1e6&&(e.target.value="",s(!1)),s(!0),pe.cloudinaryUpload(e.target.files[0]).then((function(e){t(e.url),n(!1)})).catch(console.log)}(e)},className:fe.a.TorrentFile,type:"file",name:"file",id:"torrentFile",accept:".torrent"})})]}),o||Object(h.jsx)(re,{error:"File must be less than 1MB"})]})},he=n(23),_e=n.n(he),ge=function(e){var t=e.single,n=e.loadFile;return Object(h.jsxs)("div",{className:_e.a.row,children:[Object(h.jsx)("label",{htmlFor:"torrentFile",children:"Attach Screenshot"}),Object(h.jsx)("div",{className:_e.a.Label,children:Object(h.jsx)("input",Object(y.a)({onChange:function(e){return n(e)},className:_e.a.TorrentFile,type:"file",accept:"image/*",name:"file",id:"torrentFile"},!1!==t&&{multiple:"multiple"}))})]})},xe=function(e){var t=e.setPicUrls,n=e.single,r=e.setUploadBtn;return Object(h.jsx)(ge,{single:n,loadFile:function(e){return function(e){e.persist();var n=[];Object(p.a)(e.target.files).forEach((function(a,c){r(!0),pe.cloudinaryUpload(a).then((function(e){return n.push(e.url)})).then((function(r){return c===e.target.files.length-1&&t(n)})).then((function(e){return r(!1)})).catch(console.log)}))}(e)}})},ve=n(48),Ne=n.n(ve),ye=function(e){var t=e.value,n=e.type,r=e.onClick,a=e.disabled,c=e.styles;return Object(h.jsx)("input",{className:c||Ne.a.Submit,type:n||"submit",value:t,onClick:r,disabled:a})},Ce=n(24),Te=n.n(Ce),Se=function(e){var t=e.lebel,n=e.text;return Object(h.jsxs)("div",{className:Te.a.Wrapper,children:[Object(h.jsx)("label",{className:Te.a.Label,htmlFor:"description",children:t}),Object(h.jsx)("textarea",{className:Te.a.DescriptionField,name:"description",rows:"5",defaultValue:n,readOnly:!!n})]})},Ie=n(25),we=n.n(Ie),Ee=function(e){var t=e.picUrls,n=e.styles||we.a.Image;return Object(h.jsx)("div",{className:we.a.ScreenshotsSection,children:t.map((function(e){return Object(h.jsx)("div",{className:we.a.Cont,children:Object(h.jsx)(se,{style:n,src:e,alt:"Wrong Format"})},e)}))})},Le={get:function(e){return fetch(e,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))},post:function(e,t){return fetch(e,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}))},put:function(e,t){return fetch(e,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}))},delete:function(e){return fetch(e,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}},Ae={upload:function(e){return Le.post("".concat(P,"/api/torrents/upload"),e)},get:function(e){return Le.get("".concat(P,"/api/torrents/list?").concat(e))},getOne:function(e){return Le.get("".concat(P,"/api/torrents/").concat(e))},increaseDownload:function(e){return Le.put("".concat(P,"/api/torrents/").concat(e),{})},delete:function(e){return Le.delete("".concat(P,"/api/torrents/").concat(e))},getCount:function(e){return Le.get("".concat(P,"/api/torrents/count?category=").concat(e))}},Pe=n(49),De=n.n(Pe),Fe=function(e){var t=e.title,n=e.styles,r=e.onClick;return Object(h.jsx)("h1",{className:n||De.a.Title,onClick:r&&r,children:t})},Ue=function(e){var t=Object(r.useState)(""),n=Object(O.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)({}),s=Object(O.a)(o,2),i=s[0],l=s[1],u=Object(r.useState)(""),j=Object(O.a)(u,2),b=j[0],p=j[1],f=Object(r.useState)([]),m=Object(O.a)(f,2),_=m[0],g=m[1],x=Object(r.useState)(!0),v=Object(O.a)(x,2),N=v[0],C=v[1],T=Object(r.useContext)(d).setToastrMsg;Object(r.useEffect)((function(){H.getOne(a).then((function(e){return l(K(e))})).catch((function(e){return console.log("BE error popup here",e)}))}),[a]);return Object(h.jsxs)("form",{className:V.a.UploadTorrent,onSubmit:function(t){t.preventDefault();var n=Object(y.a)(Object(y.a)({},i),{},{title:t.target.torrentName.value,category:t.target.category.value,description:t.target.description.value,torrentUrl:b,picUrls:_}),r=Y(n),a=Object(O.a)(r,2),c=a[0],o=a[1];if(c)return T(o);Ae.upload(n).then((function(t){return e.history.push("/torrents/".concat(t._id,"?category=").concat(t.category))})).catch(console.log)},children:[Object(h.jsx)(Fe,{styles:V.a.title,title:"Upload Torrent"}),Object(h.jsx)(Z,{}),Object(h.jsx)(q,Object(y.a)({},i)),Object(h.jsx)(ae,{setMovieId:c}),i.imdbID&&Object(h.jsx)(be,{movieData:i}),Object(h.jsx)(Se,{lebel:"Plot",text:i.plot,readonly:!0}),Object(h.jsx)(me,{setFile:p,setUploadBtn:function(e){return C()}}),Object(h.jsx)(xe,{setPicUrls:function(e){return g(e)},setUploadBtn:function(e){return C}}),Object(h.jsx)(Ee,{picUrls:_}),Object(h.jsx)(ye,{value:"Upload",disabled:N})]})},Re=n(50),ke=n.n(Re),We=n(33),Me=n.n(We),Be=function(e){var t=e.type,n=e.value,r=e.id,a=e.label,c=e.onChange,o=e.readonly,s=e.placeholder;return Object(h.jsxs)("div",{className:Me.a.CommonInput,children:[Object(h.jsx)("label",{htmlFor:r,children:a}),Object(h.jsx)("input",{className:o?"":Me.a.Editable,type:t||"text",value:n,name:r,id:r,onChange:c,readOnly:o||!1,placeholder:s||""})]})},He={register:function(e){return Le.post("".concat(P,"/api/user/register"),e)},login:function(e){return Le.post("".concat(P,"/api/user/login"),e)},profile:function(){return Le.get("".concat(P,"/api/user/profile"))},editProfile:function(e){return Le.put("".concat(P,"/api/user/profile/edit"),e)},logout:function(){return Le.get("".concat(P,"/api/user/logout"))}},Ke=function(e){var t=e.history,n=Object(r.useContext)(b),a=Object(r.useContext)(d).setToastrMsg,c=Object(r.useState)(""),o=Object(O.a)(c,2),s=o[0],i=o[1],l=Object(r.useState)(""),u=Object(O.a)(l,2),j=u[0],p=u[1],f=Object(r.useState)(""),m=Object(O.a)(f,2),_=m[0],g=m[1],x=Object(r.useState)(!1),v=Object(O.a)(x,2),N=v[0],y=v[1],C=Object(r.useState)(""),T=Object(O.a)(C,2),S=T[0],I=T[1],w=Object(r.useState)(""),E=Object(O.a)(w,2),L=E[0],A=E[1];return Object(h.jsxs)("form",{className:ke.a.RegisterForm,onSubmit:function(e){e.preventDefault();var r=Y({username:s,password:j,email:S,age:L}),c=Object(O.a)(r,2),o=c[0],i=c[1];if(!1===N&&(i.push("Passwords do not match"),o=!0),o)return a(i);He.register({username:s,password:j,email:S,age:L}).then((function(e){if(e.err)throw new Error(e.message);t.push("/"),n.logIn(e)})).catch((function(e){return a(e.message)}))},children:[Object(h.jsx)("h1",{children:"Register"}),Object(h.jsx)(Be,{value:s,id:"username",label:"Username:",onChange:function(e){return i(e.target.value)}}),Object(h.jsx)(Be,{type:"password",value:j,id:"password",label:"Password:",onChange:function(e){return p(e.target.value)}}),Object(h.jsx)(Be,{type:"password",value:_,id:"rePassword",label:"Repeat Password:",onChange:function(e){return t=e.target.value,g(t),void y(t===j);var t}}),Object(h.jsx)(Be,{type:"email",value:S,id:"email",label:"Email:",onChange:function(e){return I(e.target.value)}}),Object(h.jsx)(Be,{type:"number",value:L,id:"age",label:"Age:",onChange:function(e){return A(e.target.value)}}),Object(h.jsx)(ye,{value:"Register"})]})},Ye=n(51),Ge=n.n(Ye),Ve=function(e){var t=e.history,n=Object(r.useContext)(d).setToastrMsg,a=Object(r.useContext)(b),c=Object(r.useState)(""),o=Object(O.a)(c,2),s=o[0],i=o[1],l=Object(r.useState)(""),u=Object(O.a)(l,2),j=u[0],p=u[1];return Object(h.jsxs)("form",{className:Ge.a.LoginForm,onSubmit:function(e){e.preventDefault();var r=Y({username:s,password:j}),c=Object(O.a)(r,2),o=c[0],i=c[1];if(o)return n(i);He.login({username:s,password:j}).then((function(e){if(e.message)throw new Error(e.message);t.push("/"),a.logIn(e)})).catch((function(e){return n(e.message)}))},children:[Object(h.jsx)("h1",{children:"Login"}),Object(h.jsx)(Be,{value:s,id:"username",label:"Username:",onChange:function(e){return i(e.target.value)}}),Object(h.jsx)(Be,{type:"password",value:j,id:"password",label:"Password:",onChange:function(e){return p(e.target.value)}}),Object(h.jsx)(ye,{value:"Login"})]})},Je=n(52),Qe=n.n(Je),qe=n(34),ze=n.n(qe),Xe=n.p+"static/media/space-leader.d453f24b.svg",Ze=function(e){e=Object(y.a)({},e.userData);var t=Object(r.useContext)(d).setToastrMsg,n=Object(r.useState)(e.username),a=Object(O.a)(n,2),c=a[0],o=a[1],s=Object(r.useState)(e.email),i=Object(O.a)(s,2),l=i[0],u=i[1],j=Object(r.useState)(e.age),b=Object(O.a)(j,2),f=b[0],m=b[1],_=Object(r.useState)(e.avatar),g=Object(O.a)(_,2),x=g[0],v=g[1],N=Object(r.useState)(!0),C=Object(O.a)(N,2),T=C[0],S=C[1],I=Object(r.useState)(!1),w=Object(O.a)(I,2),E=w[0],L=w[1];return Object(h.jsxs)("form",{className:ze.a.UserData,onSubmit:function(n){n.preventDefault();var r=Y({username:c,email:l,age:f,avatar:x}),a=Object(O.a)(r,2),o=a[0],s=a[1];if(o)return t(s);He.editProfile({username:c,email:l,age:f,avatar:x}).then(S(!0)).then(e.updateUserInfo()).then((function(t){if(t.message)throw new Error(t.message);e.logIn(t)})).catch((function(e){return t(e.message)}))},children:[Object(h.jsx)(se,{src:x,style:ze.a.Img,alt:"User Picture",fallback:function(){return v(Xe)}}),T||Object(h.jsx)(xe,{setPicUrls:function(e){return v.apply(void 0,Object(p.a)(e))},single:!1,setUploadBtn:function(e){return L(e)}}),Object(h.jsx)(Be,{value:c,id:c,label:"Username",onChange:function(e){return o(e.target.value)},readonly:T}),Object(h.jsx)(Be,{value:l,id:"email",label:"Email",onChange:function(e){return u(e.target.value)},readonly:T}),Object(h.jsx)(Be,{type:"number",value:f,id:"age",label:"Age",onChange:function(e){return m(e.target.value)},readonly:T}),Object(h.jsx)(ye,{value:T?"Edit":"Cancel",type:"button",onClick:function(e){S(!T)}}),T||Object(h.jsx)(ye,{disabled:E,value:"Save"})]})},$e=n(53),et=n.n($e),tt=n(26),nt=n.n(tt),rt=function(e){var t=e.torrentItem,n=Object(r.useState)(!1),a=Object(O.a)(n,2),c=a[0],o=a[1],s=t.title,l=t.imdbRating,u=t.createdTime,j=t.downloads;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("tr",{className:nt.a.Item,onMouseEnter:function(e){return o(!0)},onMouseLeave:function(e){return o(!1)},children:[Object(h.jsxs)("td",{children:[Object(h.jsx)(i.b,{className:nt.a[t.category],to:"/torrents/".concat(t._id,"?category=").concat(t.category)}),c&&Object(h.jsx)(se,{src:t.poster,style:nt.a.Img,alt:"".concat(t.title," poster"),fallback:function(e){return console.log("Immage Not available")}})]}),[s,l,u,j].map((function(e){return Object(h.jsx)("td",{children:Object(h.jsx)(i.b,{to:"/torrents/".concat(t._id,"?category=").concat(t.category),children:e})},e)}))]})})},at=function(e){var t=e.torrentsArr,n=e.heading;return Object(h.jsxs)("section",{className:et.a.TorrentList,children:[Object(h.jsx)(Fe,{title:n}),Object(h.jsxs)("table",{children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Type"}),Object(h.jsx)("td",{children:"Name"}),Object(h.jsx)("td",{children:"Rating"}),Object(h.jsx)("td",{children:"Upload Time"}),Object(h.jsx)("td",{children:"Downloads"})]})}),Object(h.jsx)("tbody",{children:t instanceof Array&&t.map((function(e){return Object(h.jsx)(rt,{torrentItem:e},e._id)}))})]})]})},ct=n(55),ot=n.n(ct),st=n(37),it=n.n(st),lt=function(e){var t=e.onPageChange,n=e.filter,a=Object(r.useState)(5),c=Object(O.a)(a,2),o=c[0],s=c[1];return Object(r.useEffect)((function(){Ae.getCount(n).then((function(e){return s(e/20)}))}),[n]),Object(h.jsx)(ot.a,{previousLabel:"<<",nextLabel:">>",breakLabel:"...",breakClassName:"break-me",pageCount:o,marginPagesDisplayed:2,pageRangeDisplayed:o,onPageChange:t,containerClassName:it.a.Paginate,activeClassName:it.a.Active})},ut=n(56),jt=n.n(ut),dt=function(e){var t=e.styles,n=e.setData,a=Object(r.useState)(""),c=Object(O.a)(a,2),o=c[0],s=c[1];return Object(h.jsxs)("article",{className:t||jt.a.Wrapper,children:[Object(h.jsx)(Be,{onChange:function(e){return s(e.target.value)},placeholder:"Search by name"}),Object(h.jsx)(ye,{value:"SEARCH",onClick:function(e){return n(o)}})]})},bt=function(e){var t=e.history,n=Object(r.useContext)(b),a=Object(r.useState)([]),c=Object(O.a)(a,2),o=c[0],s=c[1],i=Object(r.useState)(0),l=Object(O.a)(i,2),u=l[0],j=l[1],d=Object(r.useState)(""),p=Object(O.a)(d,2),f=p[0],m=p[1];Object(r.useEffect)((function(){Ae.get("uploader=".concat(n.id,"&page=").concat(u,"&limit=10").concat(f)).then((function(e){return s(e)}))}),[n,u,f]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:Qe.a.Wrapper,children:[Object(h.jsx)(Ze,{userData:n}),Object(h.jsx)(dt,{setData:function(e){return m("&search=".concat(e))}}),Object(h.jsx)(at,{torrentsArr:o,heading:"".concat(n.username,"'s uploaded torrents")}),Object(h.jsx)(lt,{filter:"torrents&uploader=".concat(n.id),onPageChange:function(e){return function(e){j(e),t.push("".concat(t.location.pathname,"?page=").concat(e,"&limit=20"))}(e.selected)}})]})})},pt=n(38),Ot=n.n(pt),ft=function(e){var t=e.history,n=Object(r.useContext)(b);return Object(h.jsx)("section",{className:Ot.a.Wrapper,children:Object(h.jsxs)("article",{className:Ot.a.Container,children:[Object(h.jsx)("h1",{children:"Do you really want to Quit"}),Object(h.jsx)(ye,{onClick:function(e){return function(e){e.preventDefault(),He.logout().then((function(e){return e.message,t.push("/")})).then(n.logOut).catch(t.push("/"))}(e)},value:"Yes"}),Object(h.jsx)(ye,{onClick:function(e){return function(e){e.preventDefault(),t.goBack()}(e)},value:"No"})]})})},mt=n(57),ht=n.n(mt),_t=function(e){var t=e.history,n=Object(r.useState)([]),a=Object(O.a)(n,2),c=a[0],o=a[1],s=Object(r.useState)([]),i=Object(O.a)(s,2),l=i[0],u=i[1],j=Object(r.useState)(0),d=Object(O.a)(j,2),b=d[0],p=d[1],f=Object(r.useState)(""),m=Object(O.a)(f,2),_=m[0],g=m[1];Object(r.useEffect)((function(){Ae.get("downloads=-1&limit=10").then((function(e){return o(e)})).catch(console.log)}),[]),Object(r.useEffect)((function(){Ae.get("page=".concat(b,"&limit=20").concat(_)).then((function(e){return u(e)})).catch(console.log)}),[b,_]);return Object(h.jsxs)("div",{className:ht.a.Wrapper,children:[Object(h.jsx)(dt,{setData:function(e){return g("&search=".concat(e))}}),0===b&&Object(h.jsx)(at,{torrentsArr:c,heading:"Top 10 Downloaded"}),Object(h.jsx)(at,{torrentsArr:l,heading:"Latest Uploaded Torrents"}),Object(h.jsx)(lt,{filter:"torrents",onPageChange:function(e){return function(e){p(e),t.push("".concat(t.location.pathname,"?page=").concat(e,"&limit=20"))}(e.selected)}})]})},gt=n(27),xt=n.n(gt);var vt=function(e){var t=e.videoId;return Object(h.jsx)(h.Fragment,{children:t&&Object(h.jsx)("iframe",{title:"torent-video",width:"420",height:"315",frameBorder:"0",allow:"accelerometer",allowFullScreen:!0,gyroscope:"true","picture-in-picture":"true",src:"https://www.youtube.com/embed/".concat(t[1],"?controls=1")})})},Nt=function(e){var t=e.history,n=e.match,a=Object(r.useContext)(b),c=Object(r.useState)({}),o=Object(O.a)(c,2),s=o[0],l=o[1],u=Object(r.useState)({}),j=Object(O.a)(u,2),d=j[0],p=j[1],f=Object(r.useState)(!1),m=Object(O.a)(f,2),_=m[0],g=m[1],x=n.params.id+t.location.search;Object(r.useEffect)((function(){Ae.getOne(x).then((function(e){l(e[e.category]),p(e),g(e.uploader===a.id)}))}),[x,a]);return Object(h.jsx)(h.Fragment,{children:s.category&&Object(h.jsxs)("section",{className:xt.a.Torrent,children:[Object(h.jsx)(Fe,{title:d.title}),Object(h.jsx)(vt,{videoId:s.videoId}),Object(h.jsx)(be,{movieData:s}),Object(h.jsx)(Se,{lebel:"Plot",text:s.plot}),Object(h.jsx)(Ee,{picUrls:s.picUrls}),Object(h.jsx)(i.b,{className:xt.a.DownloadBtn,to:{pathname:s.torrentUrl},target:"_blank",children:Object(h.jsx)(ye,{onClick:function(e){Ae.increaseDownload(d._id)},value:"Download"})}),_&&Object(h.jsx)(ye,{onClick:function(e){return Ae.delete(d._id),void t.goBack()},value:"Delete Torrent",styles:xt.a.Delete})]})})},yt=function(e){var t={home:{path:"/home",title:"Home",component:B}},n={unlogged:{userLogin:{path:"/user/login",title:"Login",component:Ve},userRegister:{path:"/user/register",title:"Register",component:Ke}},logged:{userProfile:{path:"/user/profile",title:"Profile",component:bt},torrents:{path:"/torrents/list",title:"Torrents",component:_t},uploadTorrent:{path:"/torrents/upload",title:"Upload",component:Ue},userLogout:{path:"/user/logout",title:"Logout",component:ft},torrent:{path:"/torrents/:id",component:Nt}}};return Object(y.a)(Object(y.a)({},t),n[e.isLogged?"logged":"unlogged"])},Ct=function(){var e,t=Object(r.useContext)(b),n=yt(t),a=Object(r.useState)(!1),c=Object(O.a)(a,2),o=c[0],s=c[1];return Object(h.jsxs)("header",{className:N.a.Header,children:[Object(h.jsx)("div",{className:N.a.logo,children:Object(h.jsxs)(i.b,{to:n.home.path,children:[Object(h.jsx)("img",{src:"/logo.png",alt:"Torrentee Logo"}),Object(h.jsx)("strong",{children:"Torrentee"})]})}),Object(h.jsxs)("div",{children:[Object(h.jsx)(ye,{onClick:function(e){return s((function(e){return!e}))},styles:N.a.Toggle,value:"Menu"}),Object(h.jsx)("ul",{className:o?N.a.Hide:N.a.nav,children:Object.keys(n).map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:n[e].path,children:Object(h.jsx)("strong",{children:n[e].title})})},n[e].path)}))})]}),Object(h.jsx)("div",{className:N.a.profile,children:Object(h.jsxs)(i.b,{to:(null===(e=n.userProfile)||void 0===e?void 0:e.path)||"/",children:[Object(h.jsx)("strong",{children:t.username||""}),(null===t||void 0===t?void 0:t.avatar)?Object(h.jsx)(se,{src:t.avatar,alt:"Profile Pic",style:N.a.Avatar}):Object(h.jsx)("i",{className:"fas fa-user-astronaut"})]})})]})},Tt=n(39),St=n.n(Tt),It=n(58),wt=n.n(It),Et=function(){return Object(h.jsxs)("ul",{className:wt.a.SocialMedia,children:[Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"https://facebook.com",children:Object(h.jsx)("i",{className:"fab fa-facebook"})})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"https://twiter.com",children:Object(h.jsx)("i",{className:"fab fa-twitter-square"})})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"https://github.com/Iskren1990/torrent-app",children:Object(h.jsx)("i",{className:"fab fa-github"})})})]})},Lt=function(){return Object(h.jsxs)("footer",{className:St.a.Footer,children:[Object(h.jsxs)("ul",{className:St.a.FooterNav,children:[Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"/about",children:"About US"})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"/faq",children:"FAQ"})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:{pathname:"https://dodo-hosting.herokuapp.com"},target:"_blank",children:"Partners"})}),Object(h.jsx)("li",{children:Object(h.jsx)(i.b,{to:"/terms",children:"Terms & Conditions"})})]}),Object(h.jsx)(Et,{})]})},At=n(59),Pt=n.n(At),Dt=function(){return Object(h.jsxs)("section",{className:Pt.a.NotFound,children:[Object(h.jsxs)("h1",{children:["4",Object(h.jsx)("span",{children:Object(h.jsx)("i",{className:"fas fa-ghost"})}),"4"]}),Object(h.jsx)("h2",{children:"Error: 404 page not found"}),Object(h.jsx)("p",{children:"Sorry, the page you're looking for cannot be accessed"})]})};var Ft=function(){var e=Object(r.useContext)(b),t=Object(r.useContext)(d).msg,n=Object(r.useRef)(null),a=yt(e);return Object(r.useEffect)((function(){n.current.error("",t,4e3)}),[t]),Object(h.jsxs)("div",{className:x.a.App,children:[Object(h.jsx)("div",{className:x.a.NotifyItem,children:Object(h.jsx)(j.a,{ref:n})}),Object(h.jsx)(Ct,{}),Object(h.jsxs)("main",{className:x.a.ContentWrapper,children:[Object(h.jsx)(_,{}),Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{exact:!0,path:"/",children:Object(h.jsx)(B,{})}),Object.keys(a).map((function(e){return Object(h.jsx)(l.a,{exact:!0,path:a[e].path,component:a[e].component},a[e])})),Object(h.jsx)(l.a,{component:Dt})]})]}),Object(h.jsx)(Lt,{})]})},Ut=n(14),Rt=n.n(Ut),kt=function(){return Object(h.jsx)("div",{className:Rt.a.BarWrapper,children:Object(h.jsxs)("div",{className:Rt.a.loader,children:[Object(h.jsx)("div",{className:Rt.a.bar}),Object(h.jsx)("div",{className:Rt.a.bar}),Object(h.jsx)("div",{className:Rt.a.bar})]})})},Wt=function(e){var t=Object(r.useState)({isLogged:!1}),n=Object(O.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(!0),s=Object(O.a)(o,2),i=s[0],l=s[1],u=Object(r.useCallback)((function(){He.profile().then((function(e){return e.err?l(!1):j(e)})).catch(console.log)}),[]);Object(r.useEffect)((function(){u()}),[u]);var j=function(e){c(Object(y.a)({isLogged:!0},e)),l(!1)};return i?Object(h.jsx)(kt,{}):Object(h.jsx)(b.Provider,{value:Object(y.a)(Object(y.a)({},a),{},{logIn:j,logOut:function(){c({isLogged:!1}),l(!1)},updateUserInfo:u,loading:i}),children:e.children})},Mt=function(e){var t=Object(r.useState)(null),n=Object(O.a)(t,2),a=n[0],c=n[1];return Object(h.jsx)(d.Provider,{value:{msg:a,setToastrMsg:function(e){c(e)}},children:e.children})},Bt=n(60),Ht=n(61),Kt=n(63),Yt=n(62),Gt={postError:function(e){return Le.post("".concat(P,"/api/error"),e)}},Vt=n(40),Jt=n.n(Vt),Qt=function(e){Object(Kt.a)(n,e);var t=Object(Yt.a)(n);function n(e){var r;return Object(Bt.a)(this,n),(r=t.call(this,e)).redirectToHomeAndRefresh=function(){r.props.history.push("/"),window.location.reload()},r.state={hasError:!1},r}return Object(Ht.a)(n,[{key:"componentDidCatch",value:function(e,t){Gt.postError({error:e,errorInfo:t}).catch(console.log)}},{key:"render",value:function(){var e=this;return this.state.hasError?Object(h.jsxs)("main",{className:Jt.a.Error,children:[Object(h.jsx)("div",{className:Jt.a.Emo,children:"\ud83d\ude25"}),Object(h.jsx)("h1",{children:"Something Went Wrong !"}),Object(h.jsx)("p",{children:"Please excuse us and try again later"}),Object(h.jsx)(ye,{value:"Return to Home",onClick:function(t){return e.redirectToHomeAndRefresh()}})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.Component),qt=Object(l.f)(Qt);o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(Mt,{children:Object(h.jsx)(Wt,{children:Object(h.jsx)(i.a,{children:Object(h.jsx)(qt,{children:Object(h.jsx)(Ft,{})})})})})}),document.getElementById("root")),s()}],[[77,1,2]]]);
//# sourceMappingURL=main.106d615c.chunk.js.map