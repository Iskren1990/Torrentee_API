(this["webpackJsonpreact-templates"]=this["webpackJsonpreact-templates"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports={Header:"Header_Header___oS3j",profile:"Header_profile__2Lr1g",logo:"Header_logo__2TBMg",Avatar:"Header_Avatar__2SFD9",Hide:"Header_Hide__oEEH-",nav:"Header_nav__3txRM",Toggle:"Header_Toggle__fyG5W"}},,,function(e,t,n){e.exports={BarWrapper:"Loading_BarWrapper__3gCt_",loader:"Loading_loader__3PKpm",bar:"Loading_bar__itip4"}},function(e,t,n){e.exports={BarWrapper:"LoadingBar_BarWrapper__3_9fj",loader:"LoadingBar_loader__3_5OF",bar:"LoadingBar_bar__3K0NR"}},,,function(e,t,n){e.exports={NewsItem:"NewsItem_NewsItem__20qci",ImgWrapper:"NewsItem_ImgWrapper__3bTMl",contentWrapper:"NewsItem_contentWrapper__3tu16",source:"NewsItem_source__3jVjk"}},function(e,t,n){e.exports={MovieInfoWrapper:"MovieInfoWrapper_MovieInfoWrapper__2YqDl",MovieInfo:"MovieInfoWrapper_MovieInfo__3-ZXj",Image:"MovieInfoWrapper_Image__3DVad"}},,function(e,t,n){e.exports={App:"App_App__3rdvG",ContentWrapper:"App_ContentWrapper__1ksTt",NotifyItem:"App_NotifyItem__2oZdd"}},function(e,t,n){e.exports={TorrentTypeInput:"TorrentTypeInput_TorrentTypeInput__3JPJg",row:"TorrentTypeInput_row__3GE23"}},function(e,t,n){e.exports={row:"TorrentFile_row__379G8",Label:"TorrentFile_Label__1ASKp"}},function(e,t,n){e.exports={row:"CommonInputFile_row__leynf",Label:"CommonInputFile_Label__Optka"}},function(e,t,n){e.exports={Wrapper:"DescriptionField_Wrapper__2xZfc",Label:"DescriptionField_Label__1Q9rc",DescriptionField:"DescriptionField_DescriptionField__3VtNk"}},function(e,t,n){e.exports={ScreenshotsSection:"ScreenshotsSection_ScreenshotsSection__16Yrc",Image:"ScreenshotsSection_Image__2M7Yb",Cont:"ScreenshotsSection_Cont__2YlRi"}},function(e,t,n){e.exports={Item:"TorrentsListItem_Item__2G2Rz",Img:"TorrentsListItem_Img__3fawN",serial:"TorrentsListItem_serial__2d1V3",movies:"TorrentsListItem_movies__1YsYV",game:"TorrentsListItem_game__d1_iz",book:"TorrentsListItem_book__1nysd",music:"TorrentsListItem_music__3LNXs"}},function(e,t,n){e.exports={Torrent:"Torrent_Torrent__2M4al",DownloadBtn:"Torrent_DownloadBtn__1CPEG",Delete:"Torrent_Delete__UM5XP"}},,function(e,t,n){e.exports={NewsSection:"NewsSection_NewsSection__3crpZ",Links:"NewsSection_Links__1L_4n"}},function(e,t,n){e.exports={UploadTorrent:"UploadTorrent_UploadTorrent__2xLj4"}},function(e,t,n){e.exports={row:"TorrentName_row__1eVQ_",torrentName:"TorrentName_torrentName__hrC_o"}},function(e,t,n){e.exports={row:"TorrentImdbLink_row__3ewRW",imdbLink:"TorrentImdbLink_imdbLink__3ETfh"}},function(e,t,n){e.exports={CommonInput:"CommonInput_CommonInput__28W3f",Editable:"CommonInput_Editable__C_40-"}},function(e,t,n){e.exports={Img:"UserInfo_Img__1aIqK",UserData:"UserInfo_UserData__3jMdj"}},,,function(e,t,n){e.exports={Paginate:"Paginator_Paginate__3OFTb",Active:"Paginator_Active__2o_EM"}},function(e,t,n){e.exports={Wrapper:"Logout_Wrapper__1B7WZ",Container:"Logout_Container__2RIiu"}},function(e,t,n){e.exports={Footer:"Footer_Footer__6rp8I",FooterNav:"Footer_FooterNav__3eOew"}},function(e,t,n){e.exports={Error:"ErrorHandler_Error__HpyAM",Emo:"ErrorHandler_Emo__3lzQr"}},,,,,function(e,t,n){e.exports={Widget:"Weather_Widget__YA_FU"}},function(e,t,n){e.exports={ErrorMessage:"ErrorMessage_ErrorMessage__s_XpK"}},function(e,t,n){e.exports={TorrentInfoField:"TorrentInfoField_TorrentInfoField__14AJs"}},function(e,t,n){e.exports={Submit:"SubmitBtn_Submit__1z86C"}},function(e,t,n){e.exports={Title:"CommonTitle_Title__2Q29a"}},function(e,t,n){e.exports={RegisterForm:"Register_RegisterForm__1NiJR"}},function(e,t,n){e.exports={LoginForm:"Login_LoginForm__3k2Xf"}},function(e,t,n){e.exports={Wrapper:"Profile_Wrapper__1EAiG"}},function(e,t,n){e.exports={TorrentList:"TorrentsList_TorrentList__39jiI"}},,,function(e,t,n){e.exports={Wrapper:"CommonSearch_Wrapper__3E4fK"}},function(e,t,n){e.exports={Wrapper:"Torrents_Wrapper__2Noak"}},function(e,t,n){e.exports={SocialMedia:"SocialMedia_SocialMedia__xurQJ"}},function(e,t,n){e.exports={NotFound:"NotFound_NotFound__3evrL",spooky:"NotFound_spooky__1mB5y"}},,,,,,,,,function(e,t,n){},,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(43),o=n.n(c),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},i=n(5),l=(n(68),n(3)),u=n(44),j=n.n(u),d=a.a.createContext({errorMsg:"",setToastrMsg:function(){}}),b=a.a.createContext({user:null,logIn:function(){},logOut:function(){},updateUserInfo:function(){}}),p=n(12),O=n(2),f=n(13),h=n.n(f),m=n(0),_=function(e){var t=e.fetchTimeout,n=Object(r.useState)(!1),a=Object(O.a)(n,2),c=a[0],o=a[1],s={count:0};!function(){if("fetch"in window){var e=window.fetch;window.fetch=function(){var t,n=arguments,r=arguments[0],a=arguments[1];return r&&"object"===typeof r?a&&"method"in a?t=a.method:r&&"method"in r&&(t=r.method):a&&"method"in a&&(t=a.method),void 0===t&&(t="GET"),new Promise((function(t,r){l(),e.apply(void 0,Object(p.a)(n)).then((function(e){i(e),t(e)})).catch((function(e){i(e),r(e)}))}))}}}();var i=function(e){s.count--,setTimeout((function(){s.count<=0&&(s.count=0,o(!1))}),t||500)},l=function(e){s.count++,o(!0)};return Object(m.jsx)(m.Fragment,{children:c&&Object(m.jsx)("div",{className:h.a.BarWrapper,children:Object(m.jsxs)("div",{className:h.a.loader,children:[Object(m.jsx)("div",{className:h.a.bar}),Object(m.jsx)("div",{className:h.a.bar}),Object(m.jsx)("div",{className:h.a.bar})]})})})},g=n(20),x=n.n(g),v=n(10),y=n.n(v),N=n(6),C=n(45),T=n.n(C);var S=function(){var e=Object(r.useState)(0),t=Object(O.a)(e,2),n=t[0],a=t[1],c=Object(r.useContext)(d).setToastrMsg;return Object(r.useEffect)((function(){fetch("https://api.hostip.info/get_html.php").then((function(e){return e.text()})).then((function(e){var t=e.split("City: ")[1].split("IP: ")[0].trim();a(t)})).catch(c)}),[]),Object(m.jsx)("iframe",{className:T.a.Widget,title:"Weather Widget",width:"140",height:"350",scrolling:"no",frameBorder:"0",allowtransparency:"true",loading:"lazy",onError:function(e){return console.log("nnoo",e)},src:"https://sinoptik.bg/widget/100727011/3/140/350/10?url=https://m.netinfo.bg/sinoptik/js/show_widget.js",children:n})},I={cloudinaryApiUrl:"https://api.cloudinary.com/v1_1",cloudinaryCloudName:"allmighty",omdbApiUrl:"https://www.omdbapi.com",omdbApiKey:"4e53b10e&i",newsApiUrl:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"allmighty",REACT_APP_CLOUDINARY_URL:"https://api.cloudinary.com/v1_1",REACT_APP_OMDB_API_KEY:"4e53b10e&i",REACT_APP_OMDB_URL:"https://www.omdbapi.com",REACT_APP_SERVER_URL:"https://torrentee.cf"}).REACT_APP_NEWS_URL,newsApiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_CLOUD_NAME:"allmighty",REACT_APP_CLOUDINARY_URL:"https://api.cloudinary.com/v1_1",REACT_APP_OMDB_API_KEY:"4e53b10e&i",REACT_APP_OMDB_URL:"https://www.omdbapi.com",REACT_APP_SERVER_URL:"https://torrentee.cf"}).REACT_APP_NEWS_API_KEY,serverUrl:"https://torrentee.cf"},w=I.cloudinaryApiUrl,E=I.cloudinaryCloudName,L=I.omdbApiUrl,A=I.omdbApiKey,P=I.serverUrl,D={news:function(){return fetch("".concat(P,"/api/news")).then((function(e){return e.json()}))}},F=n(29),R=n.n(F),U=n(17),k=n.n(U),M=function(e){var t=e.title,n=e.source,r=(e.url,e.urlToImage),a=e.description;return Object(m.jsxs)("article",{className:k.a.NewsItem,children:[Object(m.jsx)("div",{className:k.a.ImgWrapper,children:Object(m.jsx)("img",{src:r,alt:t})}),Object(m.jsxs)("div",{className:k.a.contentWrapper,children:[Object(m.jsx)("h3",{children:t}),Object(m.jsx)("p",{children:a}),Object(m.jsx)("p",{className:k.a.source,children:n.name})]})]})},W=function(){var e=Object(r.useState)([]),t=Object(O.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){D.news().then((function(e){return a(e.articles)}))}),[a]),Object(m.jsx)("section",{className:R.a.NewsSection,children:n&&n.slice(0,6).map((function(e){return Object(m.jsx)("a",{className:R.a.Links,href:e.url,children:Object(m.jsx)(M,Object(N.a)({},e))},e.url)}))})},B=function(){return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(W,{}),Object(m.jsx)(S,{})]})},H={getOne:function(e){return fetch("".concat(L,"/?apikey=").concat(A,"=").concat(e)).then((function(e){return e.json()}))}};var K=function(e){return{year:e.Year,released:e.Released,runtime:e.Runtime,genre:e.Genre,director:e.Director,actors:e.Actors,language:e.Language,country:e.Country,imdbRating:e.imdbRating,imdbID:e.imdbID,plot:e.Plot,poster:e.Poster}};function Y(e){var t=Object.keys(e).filter((function(t){return""===e[t]})).map((function(e){return"Field ".concat(e.toUpperCase()," is required!\n")}));return[t.length>0,t]}var G=n(30),V=n.n(G),J=n(21),Q=n.n(J),q=function(){return Object(m.jsxs)("div",{className:Q.a.row,children:[Object(m.jsx)("label",{className:Q.a.label,htmlFor:"category",children:"Choose category"}),Object(m.jsxs)("select",{className:Q.a.TorrentTypeInput,id:"category",name:"category",children:[Object(m.jsx)("option",{value:"movies",children:"Movies"}),Object(m.jsx)("option",{value:"serial",children:"Serials"})]})]})},z=n(31),X=n.n(z),Z=function(e){var t=e.placeholder;return Object(m.jsxs)("div",{className:X.a.row,children:[Object(m.jsx)("label",{htmlFor:"torrentName",children:"Torrent Name"}),Object(m.jsx)("input",{className:X.a.torrentName,type:"text",name:"torrentName",id:"name",placeholder:t||""})]})},$=n(32),ee=n.n($),te=n(46),ne=n.n(te),re=function(e){var t=e.error;return Object(m.jsx)("span",{className:ne.a.ErrorMessage,children:t})},ae=function(e){var t=e.setMovieId,n=e.placeholder,a=Object(r.useState)(!0),c=Object(O.a)(a,2),o=c[0],s=c[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:ee.a.row,children:[Object(m.jsx)("label",{htmlFor:"imdbLink",children:"Add IMDB movie link"}),Object(m.jsx)("input",{className:ee.a.imdbLink,type:"url",name:"imdbLink",id:"imdbLink",onBlur:function(e){var n=/tt\d{7,8}/.test(e.target.value);if(s(n),n){var r=e.target.value.match(/tt\d{7,8}/gi)[0];t(r)}},placeholder:n||""})]}),o||Object(m.jsx)(re,{error:"Wrong IMDB link, it must include tt followed by 7 digits"})]})},ce=n(18),oe=n.n(ce),se=function(e){var t=e.src,n=e.style,r=e.alt,a=e.fallback;return Object(m.jsx)("img",{className:n,src:t,onError:a,alt:r})},ie=n(47),le=n.n(ie),ue=function(e){var t=e.fieldDesc,n=e.fieldData;return Object(m.jsxs)("tr",{className:le.a.TorrentInfoField,children:[Object(m.jsx)("td",{children:Object(m.jsxs)("h4",{children:[t,": "]})}),Object(m.jsx)("td",{children:Object(m.jsx)("em",{children:n})})]})};var je=function(e){if(e)return{Year:e.year,Released:e.released,Runtime:e.runtime,Genre:e.genre,Director:e.director,Actors:e.actors,Language:e.language,Country:e.country,"Imdb Rating":e.imdbRating}},de=function(e){var t=e.movieData,n=e.style;return t=je(t),Object(m.jsx)("table",{className:n,children:Object(m.jsx)("tbody",{children:t&&Object.keys(t).map((function(e){return t[e]&&"N/A"!==t[e]&&Object(m.jsx)(ue,{fieldDesc:e,fieldData:t[e]},e)}))})})},be=function(e){var t=e.movieData;return Object(m.jsxs)("section",{className:oe.a.MovieInfoWrapper,children:[Object(m.jsx)(se,{style:oe.a.Img,src:null===t||void 0===t?void 0:t.poster,alt:"Movie Poster"}),Object(m.jsx)(de,{className:oe.a.MovieInfo,style:oe.a.MovieInfo,movieData:t})]})},pe={cloudinaryUpload:function(e){var t=new FormData;return t.append("file",e,e.name),t.append("upload_preset","ml_default"),fetch("".concat(w,"/").concat(E,"/auto/upload"),{method:"POST",body:t}).then((function(e){return e.json()}))}},Oe=n(22),fe=n.n(Oe),he=function(e){var t=e.setFile,n=e.setUploadBtn,a=Object(r.useContext)(d).setToastrMsg,c=Object(r.useState)(!0),o=Object(O.a)(c,2),s=o[0],i=o[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:fe.a.row,children:[Object(m.jsx)("label",{htmlFor:"torrentFile",children:"Attach Torrent"}),Object(m.jsx)("div",{className:fe.a.Label,children:Object(m.jsx)("input",{onChange:function(e){return function(e){e.target.files[0].size>1e6&&(e.target.value="",i(!1)),i(!0),pe.cloudinaryUpload(e.target.files[0]).then((function(e){t(e.url),n(!1)})).catch(a)}(e)},className:fe.a.TorrentFile,type:"file",name:"file",id:"torrentFile",accept:".torrent"})})]}),s||Object(m.jsx)(re,{error:"File must be less than 1MB"})]})},me=n(23),_e=n.n(me),ge=function(e){var t=e.single,n=e.loadFile;return Object(m.jsxs)("div",{className:_e.a.row,children:[Object(m.jsx)("label",{htmlFor:"torrentFile",children:"Attach Screenshot"}),Object(m.jsx)("div",{className:_e.a.Label,children:Object(m.jsx)("input",Object(N.a)({onChange:function(e){return n(e)},className:_e.a.TorrentFile,type:"file",accept:"image/*",name:"file",id:"torrentFile"},!1!==t&&{multiple:"multiple"}))})]})},xe=function(e){var t=e.setPicUrls,n=e.single,a=e.setUploadBtn,c=Object(r.useContext)(d).setToastrMsg;return Object(m.jsx)(ge,{single:n,loadFile:function(e){return function(e){e.persist();var n=[];Object(p.a)(e.target.files).forEach((function(r,o){a(!0),pe.cloudinaryUpload(r).then((function(e){return n.push(e.url)})).then((function(r){return o===e.target.files.length-1&&t(n)})).then((function(e){return a(!1)})).catch(c)}))}(e)}})},ve=n(48),ye=n.n(ve),Ne=function(e){var t=e.value,n=e.type,r=e.onClick,a=e.disabled,c=e.styles;return Object(m.jsx)("input",{className:c||ye.a.Submit,type:n||"submit",value:t,onClick:r,disabled:a})},Ce=n(24),Te=n.n(Ce),Se=function(e){var t=e.lebel,n=e.text;return Object(m.jsxs)("div",{className:Te.a.Wrapper,children:[Object(m.jsx)("label",{className:Te.a.Label,htmlFor:"description",children:t}),Object(m.jsx)("textarea",{className:Te.a.DescriptionField,name:"description",rows:"5",defaultValue:n,readOnly:!!n})]})},Ie=n(25),we=n.n(Ie),Ee=function(e){var t=e.picUrls,n=e.styles||we.a.Image;return Object(m.jsx)("div",{className:we.a.ScreenshotsSection,children:t.map((function(e){return Object(m.jsx)("div",{className:we.a.Cont,children:Object(m.jsx)(se,{style:n,src:e,alt:"Wrong Format"})},e)}))})},Le={get:function(e){return fetch(e,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return Ae(e)}))},post:function(e,t){return fetch(e,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return Ae(e)}))},put:function(e,t){return fetch(e,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return Ae(e)}))},delete:function(e){return fetch(e,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return Ae(e)}))}};function Ae(e){if(e.err)throw e.message;return e}var Pe={upload:function(e){return Le.post("".concat(P,"/api/torrents/upload"),e)},get:function(e){return Le.get("".concat(P,"/api/torrents/list?").concat(e))},getOne:function(e){return Le.get("".concat(P,"/api/torrents/").concat(e))},increaseDownload:function(e){return Le.put("".concat(P,"/api/torrents/").concat(e),{})},delete:function(e){return Le.delete("".concat(P,"/api/torrents/").concat(e))},getCount:function(e){return Le.get("".concat(P,"/api/torrents/count?category=").concat(e))}},De=n(49),Fe=n.n(De),Re=function(e){var t=e.title,n=e.styles,r=e.onClick;return Object(m.jsx)("h1",{className:n||Fe.a.Title,onClick:r&&r,children:t})},Ue=function(e){var t=Object(r.useState)(""),n=Object(O.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)({}),s=Object(O.a)(o,2),i=s[0],l=s[1],u=Object(r.useState)(""),j=Object(O.a)(u,2),b=j[0],p=j[1],f=Object(r.useState)([]),h=Object(O.a)(f,2),_=h[0],g=h[1],x=Object(r.useState)(!0),v=Object(O.a)(x,2),y=v[0],C=v[1],T=Object(r.useContext)(d).setToastrMsg;Object(r.useEffect)((function(){H.getOne(a).then((function(e){return l(K(e))})).catch(T)}),[a]);return Object(m.jsxs)("form",{className:V.a.UploadTorrent,onSubmit:function(t){t.preventDefault();var n=Object(N.a)(Object(N.a)({},i),{},{title:t.target.torrentName.value,category:t.target.category.value,description:t.target.description.value,torrentUrl:b,picUrls:_}),r=Y(n),a=Object(O.a)(r,2),c=a[0],o=a[1];if(c)return T(o);Pe.upload(n).then((function(t){return e.history.push("/torrents/".concat(t._id,"?category=").concat(t.category))})).catch(T)},children:[Object(m.jsx)(Re,{styles:V.a.title,title:"Upload Torrent"}),Object(m.jsx)(Z,{placeholder:"The Expendables (2010 film)"}),Object(m.jsx)(q,Object(N.a)({},i)),Object(m.jsx)(ae,{setMovieId:c,placeholder:"https://www.imdb.com/title/tt7638348/"}),i.imdbID&&Object(m.jsx)(be,{movieData:i}),Object(m.jsx)(Se,{lebel:"Plot",text:i.plot,readonly:!0}),Object(m.jsx)(he,{setFile:p,setUploadBtn:function(e){return C()}}),Object(m.jsx)(xe,{setPicUrls:function(e){return g(e)},setUploadBtn:function(e){return C}}),Object(m.jsx)(Ee,{picUrls:_}),Object(m.jsx)(Ne,{value:"Upload",disabled:y})]})},ke=n(50),Me=n.n(ke),We=n(33),Be=n.n(We),He=function(e){var t=e.type,n=e.value,r=e.id,a=e.label,c=e.onChange,o=e.readonly,s=e.placeholder,i=e.checked;return Object(m.jsxs)("div",{className:Be.a.CommonInput,children:[Object(m.jsx)("label",{htmlFor:r,children:a}),Object(m.jsx)("input",{className:o?"":Be.a.Editable,type:t||"text",value:n,name:r,id:r,onChange:c,readOnly:o||!1,placeholder:s||"",checked:i||!1})]})},Ke={register:function(e){return Le.post("".concat(P,"/api/user/register"),e)},login:function(e){return Le.post("".concat(P,"/api/user/login"),e)},profile:function(){return Le.get("".concat(P,"/api/user/profile"))},editProfile:function(e){return Le.put("".concat(P,"/api/user/profile/edit"),e)},logout:function(){return Le.get("".concat(P,"/api/user/logout"))}},Ye=function(e){var t=e.history,n=Object(r.useContext)(b),a=Object(r.useContext)(d).setToastrMsg,c=Object(r.useState)(""),o=Object(O.a)(c,2),s=o[0],i=o[1],l=Object(r.useState)(""),u=Object(O.a)(l,2),j=u[0],p=u[1],f=Object(r.useState)(""),h=Object(O.a)(f,2),_=h[0],g=h[1],x=Object(r.useState)(!1),v=Object(O.a)(x,2),y=v[0],N=v[1],C=Object(r.useState)(""),T=Object(O.a)(C,2),S=T[0],I=T[1],w=Object(r.useState)(""),E=Object(O.a)(w,2),L=E[0],A=E[1];return Object(m.jsxs)("form",{className:Me.a.RegisterForm,onSubmit:function(e){e.preventDefault();var r=Y({username:s,password:j,email:S,age:L}),c=Object(O.a)(r,2),o=c[0],i=c[1];if(!1===y&&(i.push("Passwords do not match"),o=!0),o)return a(i);Ke.register({username:s,password:j,email:S,age:L}).then((function(e){if(e.err)throw new Error(e.message);t.push("/"),n.logIn(e)})).catch((function(e){return a(e.message)}))},children:[Object(m.jsx)("h1",{children:"Register"}),Object(m.jsx)(He,{value:s,id:"username",label:"Username:",onChange:function(e){return i(e.target.value)}}),Object(m.jsx)(He,{type:"password",value:j,id:"password",label:"Password:",onChange:function(e){return p(e.target.value)}}),Object(m.jsx)(He,{type:"password",value:_,id:"rePassword",label:"Repeat Password:",onChange:function(e){return t=e.target.value,g(t),void N(t===j);var t}}),Object(m.jsx)(He,{type:"email",value:S,id:"email",label:"Email:",onChange:function(e){return I(e.target.value)}}),Object(m.jsx)(He,{type:"number",value:L,id:"age",label:"Age:",onChange:function(e){return A(e.target.value)}}),Object(m.jsx)(Ne,{value:"Register"})]})},Ge=n(51),Ve=n.n(Ge),Je=function(e){var t=e.history,n=Object(r.useContext)(d).setToastrMsg,a=Object(r.useContext)(b),c=Object(r.useState)(""),o=Object(O.a)(c,2),s=o[0],i=o[1],l=Object(r.useState)(""),u=Object(O.a)(l,2),j=u[0],p=u[1];return Object(m.jsxs)("form",{className:Ve.a.LoginForm,onSubmit:function(e){e.preventDefault();var r=Y({username:s,password:j}),c=Object(O.a)(r,2),o=c[0],i=c[1];if(o)return n(i);Ke.login({username:s,password:j}).then((function(e){if(e.message)throw new Error(e.message);t.push("/"),a.logIn(e)})).catch(n)},children:[Object(m.jsx)("h1",{children:"Login"}),Object(m.jsx)(He,{value:s,id:"username",label:"Username:",onChange:function(e){return i(e.target.value)}}),Object(m.jsx)(He,{type:"password",value:j,id:"password",label:"Password:",onChange:function(e){return p(e.target.value)}}),Object(m.jsx)(Ne,{value:"Login"})]})},Qe=n(52),qe=n.n(Qe),ze=n(34),Xe=n.n(ze),Ze=n.p+"static/media/space-leader.d453f24b.svg",$e=function(e){e=Object(N.a)({},e.userData);var t=Object(r.useContext)(d).setToastrMsg,n=Object(r.useState)(e.username),a=Object(O.a)(n,2),c=a[0],o=a[1],s=Object(r.useState)(e.email),i=Object(O.a)(s,2),l=i[0],u=i[1],j=Object(r.useState)(e.age),b=Object(O.a)(j,2),f=b[0],h=b[1],_=Object(r.useState)(e.avatar),g=Object(O.a)(_,2),x=g[0],v=g[1],y=Object(r.useState)(!0),C=Object(O.a)(y,2),T=C[0],S=C[1],I=Object(r.useState)(!1),w=Object(O.a)(I,2),E=w[0],L=w[1];return Object(m.jsxs)("form",{className:Xe.a.UserData,onSubmit:function(n){n.preventDefault();var r=Y({username:c,email:l,age:f,avatar:x}),a=Object(O.a)(r,2),o=a[0],s=a[1];if(o)return t(s);Ke.editProfile({username:c,email:l,age:f,avatar:x}).then(S(!0)).then(e.updateUserInfo()).then((function(t){return e.logIn(t)})).catch(t)},children:[Object(m.jsx)(se,{src:x,style:Xe.a.Img,alt:"User Picture",fallback:function(){return v(Ze)}}),T||Object(m.jsx)(xe,{setPicUrls:function(e){return v.apply(void 0,Object(p.a)(e))},single:!1,setUploadBtn:function(e){return L(e)}}),Object(m.jsx)(He,{value:c,id:c,label:"Username",onChange:function(e){return o(e.target.value)},readonly:T}),Object(m.jsx)(He,{value:l,id:"email",label:"Email",onChange:function(e){return u(e.target.value)},readonly:T}),Object(m.jsx)(He,{type:"number",value:f,id:"age",label:"Age",onChange:function(e){return h(e.target.value)},readonly:T}),Object(m.jsx)(Ne,{value:T?"Edit":"Cancel",type:"button",onClick:function(e){S(!T)}}),T||Object(m.jsx)(Ne,{disabled:E,value:"Save"})]})},et=n(53),tt=n.n(et),nt=n(26),rt=n.n(nt),at=function(e){var t=e.torrentItem,n=Object(r.useState)(!1),a=Object(O.a)(n,2),c=a[0],o=a[1],s=t.title,l=t.imdbRating,u=t.createdTime,j=t.downloads;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("tr",{className:rt.a.Item,onMouseEnter:function(e){return o(!0)},onMouseLeave:function(e){return o(!1)},children:[Object(m.jsxs)("td",{children:[Object(m.jsx)(i.b,{className:rt.a[t.category],to:"/torrents/".concat(t._id,"?category=").concat(t.category)}),c&&Object(m.jsx)(se,{src:t.poster,style:rt.a.Img,alt:"".concat(t.title," poster"),fallback:function(e){return console.log("Immage Not available")}})]}),[s,l,u,j].map((function(e){return Object(m.jsx)("td",{children:Object(m.jsx)(i.b,{to:"/torrents/".concat(t._id,"?category=").concat(t.category),children:e})},e)}))]})})},ct=function(e){var t=e.torrentsArr,n=e.heading;return Object(m.jsxs)("section",{className:tt.a.TorrentList,children:[Object(m.jsx)(Re,{title:n}),!t instanceof Array||0===t.length?Object(m.jsx)(Re,{title:"No Torrents Found"}):Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Type"}),Object(m.jsx)("td",{children:"Name"}),Object(m.jsx)("td",{children:"Rating"}),Object(m.jsx)("td",{children:"Upload Time"}),Object(m.jsx)("td",{children:"Downloads"})]})}),Object(m.jsx)("tbody",{children:t instanceof Array&&t.map((function(e){return Object(m.jsx)(at,{torrentItem:e},e._id)}))})]})]})},ot=n(55),st=n.n(ot),it=n(37),lt=n.n(it),ut=function(e){var t=e.onPageChange,n=e.filter,a=Object(r.useState)(5),c=Object(O.a)(a,2),o=c[0],s=c[1];return Object(r.useEffect)((function(){Pe.getCount(n).then((function(e){return s(e/20)}))}),[n]),Object(m.jsx)(st.a,{previousLabel:"<<",nextLabel:">>",breakLabel:"...",breakClassName:"break-me",pageCount:o,marginPagesDisplayed:2,pageRangeDisplayed:o,onPageChange:t,containerClassName:lt.a.Paginate,activeClassName:lt.a.Active})},jt=n(56),dt=n.n(jt),bt=function(e){var t=e.styles,n=e.setData,a=Object(r.useState)(""),c=Object(O.a)(a,2),o=c[0],s=c[1],i=Object(r.useState)("search"),l=Object(O.a)(i,2),u=l[0],j=l[1];return Object(m.jsxs)("article",{className:t||dt.a.Wrapper,children:[Object(m.jsx)(He,{onChange:function(e){return s(e.target.value)},placeholder:"Search by name"}),Object(m.jsx)(Ne,{value:"SEARCH",onClick:function(e){return n("&".concat(u,"=").concat(o))}}),Object(m.jsx)(He,{name:"title",id:"option",label:"Title",type:"radio",checked:"search"===u,onChange:function(e){return j((function(){return"search"}))}}),Object(m.jsx)(He,{name:"rating",id:"option",label:"IMDB Rating",type:"radio",checked:"imdbRating"===u,onChange:function(e){return j((function(){return"imdbRating"}))}})]})},pt=function(e){var t=e.history,n=Object(r.useContext)(d).setToastrMsg,a=Object(r.useContext)(b),c=Object(r.useState)([]),o=Object(O.a)(c,2),s=o[0],i=o[1],l=Object(r.useState)(0),u=Object(O.a)(l,2),j=u[0],p=u[1],f=Object(r.useState)(""),h=Object(O.a)(f,2),_=h[0],g=h[1];Object(r.useEffect)((function(){Pe.get("uploader=".concat(a.id,"&page=").concat(j,"&limit=10").concat(_)).then((function(e){return i(e)})).catch(n)}),[j,_]);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:qe.a.Wrapper,children:[Object(m.jsx)($e,{userData:a}),Object(m.jsx)(bt,{setData:function(e){return g(e)}}),Object(m.jsx)(ct,{torrentsArr:s,heading:"".concat(a.username,"'s uploaded torrents")}),Object(m.jsx)(ut,{filter:"torrents&uploader=".concat(a.id),onPageChange:function(e){return function(e){p(e),t.push("".concat(t.location.pathname,"?page=").concat(e,"&limit=20"))}(e.selected)}})]})})},Ot=n(38),ft=n.n(Ot),ht=function(e){var t=e.history,n=Object(r.useContext)(b),a=Object(r.useContext)(d).setToastrMsg;return Object(m.jsx)("section",{className:ft.a.Wrapper,children:Object(m.jsxs)("article",{className:ft.a.Container,children:[Object(m.jsx)("h1",{children:"Do you really want to Quit"}),Object(m.jsx)(Ne,{onClick:function(e){return function(e){e.preventDefault(),Ke.logout().then((function(e){return t.push("/")})).then(n.logOut).catch(a)}(e)},value:"Yes"}),Object(m.jsx)(Ne,{onClick:function(e){return function(e){e.preventDefault(),t.goBack()}(e)},value:"No"})]})})},mt=n(57),_t=n.n(mt),gt=function(e){var t=e.history,n=Object(r.useContext)(d).setToastrMsg,a=Object(r.useState)([]),c=Object(O.a)(a,2),o=c[0],s=c[1],i=Object(r.useState)([]),l=Object(O.a)(i,2),u=l[0],j=l[1],b=Object(r.useState)(0),p=Object(O.a)(b,2),f=p[0],h=p[1],_=Object(r.useState)(""),g=Object(O.a)(_,2),x=g[0],v=g[1];Object(r.useEffect)((function(){Pe.get("downloads=-1&limit=10").then((function(e){return s(e)})).catch(n)}),[]),Object(r.useEffect)((function(){Pe.get("page=".concat(f,"&limit=20").concat(x)).then((function(e){return j(e)})).catch(n)}),[f,x]);return Object(m.jsxs)("div",{className:_t.a.Wrapper,children:[Object(m.jsx)(bt,{setData:function(e){return v(e)}}),0===f&&Object(m.jsx)(ct,{torrentsArr:o,heading:"Top 10 Downloaded"}),Object(m.jsx)(ct,{torrentsArr:u,heading:"Latest Uploaded Torrents"}),Object(m.jsx)(ut,{filter:"torrents",onPageChange:function(e){return function(e){h(e),t.push("".concat(t.location.pathname,"?page=").concat(e,"&limit=20"))}(e.selected)}})]})},xt=n(27),vt=n.n(xt);var yt=function(e){var t=e.videoId;return Object(m.jsx)(m.Fragment,{children:t&&Object(m.jsx)("iframe",{title:"torent-video",width:"420",height:"315",frameBorder:"0",allow:"accelerometer",allowFullScreen:!0,gyroscope:"true","picture-in-picture":"true",src:"https://www.youtube.com/embed/".concat(t[1],"?controls=1")})})},Nt=function(e){var t=e.history,n=e.match,a=Object(r.useContext)(b),c=Object(r.useState)({}),o=Object(O.a)(c,2),s=o[0],l=o[1],u=Object(r.useState)({}),j=Object(O.a)(u,2),d=j[0],p=j[1],f=Object(r.useState)(!1),h=Object(O.a)(f,2),_=h[0],g=h[1],x=n.params.id+t.location.search;Object(r.useEffect)((function(){Pe.getOne(x).then((function(e){l(e[e.category]),p(e),g(e.uploader===a.id)}))}),[x,a]);return Object(m.jsx)(m.Fragment,{children:s&&s.category&&Object(m.jsxs)("section",{className:vt.a.Torrent,children:[Object(m.jsx)(Re,{title:d.title}),Object(m.jsx)(yt,{videoId:s.videoId}),Object(m.jsx)(be,{movieData:s}),Object(m.jsx)(Se,{lebel:"Plot",text:s.plot}),Object(m.jsx)(Ee,{picUrls:s.picUrls}),Object(m.jsx)(i.b,{className:vt.a.DownloadBtn,to:{pathname:s.torrentUrl},target:"_blank",children:Object(m.jsx)(Ne,{onClick:function(e){Pe.increaseDownload(d._id)},value:"Download"})}),_&&Object(m.jsx)(Ne,{onClick:function(e){return Pe.delete(d._id),void t.goBack()},value:"Delete Torrent",styles:vt.a.Delete})]})})},Ct=function(e){var t={home:{path:"/home",title:"Home",component:B}},n={unlogged:{userLogin:{path:"/user/login",title:"Login",component:Je},userRegister:{path:"/user/register",title:"Register",component:Ye}},logged:{userProfile:{path:"/user/profile",title:"Profile",component:pt},torrents:{path:"/torrents/list",title:"Torrents",component:gt},uploadTorrent:{path:"/torrents/upload",title:"Upload",component:Ue},userLogout:{path:"/user/logout",title:"Logout",component:ht},torrent:{path:"/torrents/:id",component:Nt}}};return Object(N.a)(Object(N.a)({},t),n[e.isLogged?"logged":"unlogged"])},Tt=function(){var e,t=Object(r.useContext)(b),n=Ct(t),a=Object(r.useState)(!1),c=Object(O.a)(a,2),o=c[0],s=c[1];return Object(m.jsxs)("header",{className:y.a.Header,children:[Object(m.jsx)("div",{className:y.a.logo,children:Object(m.jsxs)(i.b,{to:n.home.path,children:[Object(m.jsx)("img",{src:"/logo.png",alt:"Torrentee Logo"}),Object(m.jsx)("strong",{children:"Torrentee"})]})}),Object(m.jsxs)("div",{children:[Object(m.jsx)(Ne,{onClick:function(e){return s((function(e){return!e}))},styles:y.a.Toggle,value:"Menu"}),Object(m.jsx)("ul",{className:o?y.a.Hide:y.a.nav,children:Object.keys(n).map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(i.b,{to:n[e].path,children:Object(m.jsx)("strong",{children:n[e].title})})},n[e].path)}))})]}),Object(m.jsx)("div",{className:y.a.profile,children:Object(m.jsxs)(i.b,{to:(null===(e=n.userProfile)||void 0===e?void 0:e.path)||"/",children:[Object(m.jsx)("strong",{children:t.username||""}),(null===t||void 0===t?void 0:t.avatar)?Object(m.jsx)(se,{src:t.avatar,alt:"Profile Pic",style:y.a.Avatar}):Object(m.jsx)("i",{className:"fas fa-user-astronaut"})]})})]})},St=n(39),It=n.n(St),wt=n(58),Et=n.n(wt),Lt=function(){return Object(m.jsxs)("ul",{className:Et.a.SocialMedia,children:[Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://facebook.com",children:Object(m.jsx)("i",{className:"fab fa-facebook"})})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://twiter.com",children:Object(m.jsx)("i",{className:"fab fa-twitter-square"})})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://github.com/Iskren1990/torrent-app",children:Object(m.jsx)("i",{className:"fab fa-github"})})})]})},At=function(){return Object(m.jsxs)("footer",{className:It.a.Footer,children:[Object(m.jsxs)("ul",{className:It.a.FooterNav,children:[Object(m.jsx)("li",{children:Object(m.jsx)(i.b,{to:"/about",children:"About US"})}),Object(m.jsx)("li",{children:Object(m.jsx)(i.b,{to:"/faq",children:"FAQ"})}),Object(m.jsx)("li",{children:Object(m.jsx)(i.b,{to:{pathname:"https://dodo-hosting.herokuapp.com"},target:"_blank",children:"Partners"})}),Object(m.jsx)("li",{children:Object(m.jsx)(i.b,{to:"/terms",children:"Terms & Conditions"})})]}),Object(m.jsx)(Lt,{})]})},Pt=n(59),Dt=n.n(Pt),Ft=function(){return Object(m.jsxs)("section",{className:Dt.a.NotFound,children:[Object(m.jsxs)("h1",{children:["4",Object(m.jsx)("span",{children:Object(m.jsx)("i",{className:"fas fa-ghost"})}),"4"]}),Object(m.jsx)("h2",{children:"Error: 404 page not found"}),Object(m.jsx)("p",{children:"Sorry, the page you're looking for cannot be accessed"})]})};var Rt=function(){var e=Object(r.useContext)(b),t=Object(r.useContext)(d).msg,n=Object(r.useRef)(null),a=Ct(e);return Object(r.useEffect)((function(){n.current.error("",t,4e3)}),[t]),Object(m.jsxs)("div",{className:x.a.App,children:[Object(m.jsx)("div",{className:x.a.NotifyItem,children:Object(m.jsx)(j.a,{ref:n})}),Object(m.jsx)(Tt,{}),Object(m.jsxs)("main",{className:x.a.ContentWrapper,children:[Object(m.jsx)(_,{}),Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{exact:!0,path:"/",children:Object(m.jsx)(B,{})}),Object.keys(a).map((function(e){return Object(m.jsx)(l.a,{exact:!0,path:a[e].path,component:a[e].component},a[e])})),Object(m.jsx)(l.a,{component:Ft})]})]}),Object(m.jsx)(At,{})]})},Ut=n(14),kt=n.n(Ut),Mt=function(){return Object(m.jsx)("div",{className:kt.a.BarWrapper,children:Object(m.jsxs)("div",{className:kt.a.loader,children:[Object(m.jsx)("div",{className:kt.a.bar}),Object(m.jsx)("div",{className:kt.a.bar}),Object(m.jsx)("div",{className:kt.a.bar})]})})},Wt=function(e){var t=Object(r.useContext)(d).setToastrMsg,n=Object(r.useState)({isLogged:!1}),a=Object(O.a)(n,2),c=a[0],o=a[1],s=Object(r.useState)(!0),i=Object(O.a)(s,2),l=i[0],u=i[1],j=Object(r.useCallback)((function(){return Ke.profile().then((function(e){return p(e)})).catch((function(e){t(e),u(!1)}))}),[]);Object(r.useEffect)((function(){j()}),[j]);var p=function(e){o(Object(N.a)({isLogged:!0},e)),u(!1)};return l?Object(m.jsx)(Mt,{}):Object(m.jsx)(b.Provider,{value:Object(N.a)(Object(N.a)({},c),{},{logIn:p,logOut:function(){o({isLogged:!1}),u(!1)},updateUserInfo:j,loading:l}),children:e.children})},Bt=function(e){var t=Object(r.useState)(null),n=Object(O.a)(t,2),a=n[0],c=n[1];return Object(m.jsx)(d.Provider,{value:{msg:a,setToastrMsg:function(e){c(e)}},children:e.children})},Ht=n(60),Kt=n(61),Yt=n(63),Gt=n(62),Vt={postError:function(e){return Le.post("".concat(P,"/api/error"),e)}},Jt=n(40),Qt=n.n(Jt),qt=function(e){Object(Yt.a)(n,e);var t=Object(Gt.a)(n);function n(e){var r;return Object(Ht.a)(this,n),(r=t.call(this,e)).redirectToHomeAndRefresh=function(){r.props.history.push("/"),window.location.reload()},r.state={hasError:!1},r}return Object(Kt.a)(n,[{key:"componentDidCatch",value:function(e,t){Vt.postError({error:e,errorInfo:t}).catch(console.log)}},{key:"render",value:function(){var e=this;return this.state.hasError?Object(m.jsxs)("main",{className:Qt.a.Error,children:[Object(m.jsx)("div",{className:Qt.a.Emo,children:"\ud83d\ude25"}),Object(m.jsx)("h1",{children:"Something Went Wrong !"}),Object(m.jsx)("p",{children:"Please excuse us and try again later"}),Object(m.jsx)(Ne,{value:"Return to Home",onClick:function(t){return e.redirectToHomeAndRefresh()}})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.Component),zt=Object(l.f)(qt);o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(Bt,{children:Object(m.jsx)(Wt,{children:Object(m.jsx)(i.a,{children:Object(m.jsx)(zt,{children:Object(m.jsx)(Rt,{})})})})})}),document.getElementById("root")),s()}],[[77,1,2]]]);
//# sourceMappingURL=main.51e7a967.chunk.js.map